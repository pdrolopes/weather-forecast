(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],{31:function(n,e,t){},38:function(n,e,t){"use strict";t.r(e);var r,a=t(0),i=t.n(a),c=t(7),o=t.n(c),d=(t(31),t(17)),s=t(2),l=t(3),u=["title","titleId"];function p(){return(p=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function b(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}function f(n,e){var t=n.title,i=n.titleId,c=b(n,u);return a.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",className:"bi bi-chevron-right",viewBox:"0 0 16 16",ref:e,"aria-labelledby":i},c),t?a.createElement("title",{id:i},t):null,r||(r=a.createElement("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})))}var j,x,h,g=a.forwardRef(f),m=(t.p,t(1));var O,v,w,y=l.a.div(j||(j=Object(s.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  min-height: 40px;\n  &:active {\n    filter: brightness(95%);\n  }\n  &:hover {\n    background-color: #d8efff;\n  }\n  cursor: pointer;\n  transition: all 100ms;\n"]))),k=l.a.span(x||(x=Object(s.a)(["\n  font-weight: 500;\n  width: 40px;\n"]))),S=l.a.span(h||(h=Object(s.a)(["\n  display: block;\n  text-overflow: ellipsis;\n  word-wrap: break-word;\n  overflow: hidden;\n  text-align: left;\n  flex: 1;\n"]))),I=function(n){var e=n.name,t=n.areaId,r=n.onClick;return Object(m.jsxs)(y,{onClick:r,children:[Object(m.jsx)(k,{children:t}),Object(m.jsx)(S,{children:e}),Object(m.jsx)(g,{})]})},L=l.a.div(O||(O=Object(s.a)(["\n  background-color: white;\n  box-shadow: 0 2px 6px -2px gray;\n  padding: 8px;\n  border-radius: 4px;\n"]))),C=l.a.button(v||(v=Object(s.a)(["\n  height: 40px;\n  padding: 8px;\n  font-size: 16px;\n  border-radius: 10px;\n  vertical-align: middle;\n  cursor: pointer;\n  border: 0;\n  background: #4a93cc;\n  color: white;\n  transition: filter 200ms;\n\n  &:hover {\n    filter: brightness(85%);\n  }\n\n  &:active {\n    filter: brightness(110%);\n  }\n"]))),E=t(40),F=t(41),R="fade";var M,N,z=l.a.div(w||(w=Object(s.a)(["\n  &.","-enter {\n    opacity: 0;\n  }\n  &.","-exit {\n    opacity: 1;\n  }\n  &.","-enter-active {\n    opacity: 1;\n    transition: opacity ","ms;\n  }\n  &.","-exit-active {\n    opacity: 0;\n    transition: opacity ","ms;\n  }\n"])),R,R,R,100,R,100),P=function(n){var e=n.state,t=n.children,r=n.className;return Object(m.jsx)(E.a,{mode:"out-in",children:Object(m.jsx)(F.a,{addEndListener:function(n,e){return n.addEventListener("transitionend",e,!1)},timeout:100,classNames:R,unmountOnExit:!0,children:Object(m.jsx)(z,{className:r,children:t})},e)})},T=Object(l.b)(M||(M=Object(s.a)(["\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n"]))),A=l.a.div(N||(N=Object(s.a)(["\n  border: 10px solid #e0e0e0;\n  border-top: 10px solid #97d5fe;\n  border-radius: 50%;\n  width: 48px;\n  height: 48px;\n  min-height: 48px;\n  min-width: 48px;\n  animation: "," 1s linear infinite;\n"])),T),B=t(15),D=function(){return Object(B.b)()},J=B.c,W=t(8),H=t(9),K=t.n(H),q=t(14),G="http://api.ipma.pt/open-data",Q="".concat(G,"/distrits-islands.json"),U="".concat(G,"/forecast/meteorology/cities/daily");function V(){return(V=Object(q.a)(K.a.mark((function n(){var e,t;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(Q);case 2:if((e=n.sent).ok){n.next=5;break}throw Error("Something wrong happened");case 5:return n.next=7,e.json();case 7:return t=n.sent,n.abrupt("return",t.data);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function X(n){return Y.apply(this,arguments)}function Y(){return(Y=Object(q.a)(K.a.mark((function n(e){var t,r,a;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(U,"/").concat(e,".json"),n.next=3,fetch(t);case 3:if((r=n.sent).ok){n.next=6;break}throw Error("Something wrong happened");case 6:return n.next=8,r.json();case 8:return a=n.sent,n.abrupt("return",a.data);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var Z,$,_,nn,en,tn,rn,an,cn=Object(W.b)("region/load",(function(){return V.apply(this,arguments)})),on=Object(W.c)({name:"region",initialState:{innerState:{kind:"Idle"}},reducers:{},extraReducers:function(n){n.addCase(cn.pending,(function(n){n.innerState={kind:"Loading"}})).addCase(cn.fulfilled,(function(n,e){var t=e.payload.map((function(n){return{id:n.globalIdLocal,name:n.local,areaId:n.idAreaAviso}}));n.innerState={kind:"Loaded",regions:t}})).addCase(cn.rejected,(function(n,e){n.innerState={kind:"Failed",error:e.error.message||""}}))}}),dn=function(n){var e=n.region.innerState;return"Loaded"===e.kind?e.regions:[]},sn=function(n){return"Loading"===n.region.innerState.kind},ln=function(n){return"Failed"===n.region.innerState.kind},un=on.reducer;var pn,bn,fn,jn,xn=Object(l.a)(L)(Z||(Z=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  min-width: 330px;\n"]))),hn=Object(l.a)(P)($||($=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  height: 100%;\n"]))),gn=l.a.div(_||(_=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n  flex-direction: column;\n  color: #0a1937;\n"]))),mn=Object(l.a)(C)(nn||(nn=Object(s.a)(["\n  min-width: 150px;\n  margin-top: 16px;\n"]))),On=l.a.div(en||(en=Object(s.a)(["\n  display: flex;\n  overflow-y: scroll;\n  flex-direction: column;\n  width: 100%;\n\n  & > * {\n    border-bottom: 1px solid #e0e0e0;\n  }\n\n  // Hide scroll bar\n  scrollbar-width: none; /* Firefox */\n  -ms-overflow-style: none; /* Internet Explorer 10+ */\n  &::-webkit-scrollbar {\n    /* WebKit */\n    width: 0;\n    height: 0;\n  }\n"]))),vn=l.a.h2(tn||(tn=Object(s.a)(["\n  margin-top: 0;\n  font-size: 20px;\n  flex-shrink: 0;\n  color: #0a1937;\n"]))),wn=l.a.div(rn||(rn=Object(s.a)(["\n  height: 1px;\n  margin-left: -8px;\n  margin-right: -8px;\n  background-color: #d3d3d3;\n  width: calc(100% + 16px);\n  flex-shrink: 0;\n"]))),yn=l.a.input(an||(an=Object(s.a)(["\n  width: calc(100% - 16px);\n  height: 2rem;\n  font-size: 16px;\n  background-color: transparent;\n  border: none;\n  border-bottom: 2px solid #d3d3d3;\n  &:focus {\n    outline: none;\n  }\n  margin-bottom: 8px;\n  padding-left: 8px;\n  padding-right: 8px;\n  flex-shrink: 0;\n"]))),kn=function(n){var e=n.onRegionSelect,t=D(),r=J(dn),i=J(sn),c=J(ln),o=Object(a.useState)(""),s=Object(d.a)(o,2),l=s[0],u=s[1],p=Object(a.useMemo)((function(){return r.filter((function(n){return n.name.toLowerCase().includes(l.toLowerCase())||n.areaId.toLowerCase().includes(l.toLowerCase())}))}),[l,r]);Object(a.useEffect)((function(){t(cn())}),[t]);var b=0===p.length,f=b&&!i&&!c&&!!l,j="".concat(i,"-").concat(b,"-").concat(c,"-").concat(f);return Object(m.jsxs)(xn,{children:[Object(m.jsx)(vn,{children:"Regions"}),Object(m.jsx)(yn,{onChange:function(n){return u(n.target.value)},value:l,placeholder:"Filter region"}),Object(m.jsx)(wn,{}),Object(m.jsx)(hn,{state:j,children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(On,{children:p.map((function(n){var t=n.id,r=n.name,a=n.areaId;return Object(m.jsx)(I,{id:t,name:r,areaId:a,onClick:function(){return e(n)}},t)}))}),i&&Object(m.jsx)(gn,{children:Object(m.jsx)(A,{})}),f&&Object(m.jsx)(gn,{children:"No region found"}),c&&Object(m.jsxs)(gn,{children:["There was a problem",Object(m.jsx)(mn,{onClick:function(){return t(cn())},children:"Retry"})]})]})})]})},Sn=t(25),In=t(19),Ln=t.n(In),Cn=t(24),En=t.n(Cn);Ln.a.extend(En.a);var Fn,Rn,Mn,Nn,zn,Pn,Tn,An=l.a.div(pn||(pn=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 300px;\n  border-radius: 8px;\n  border: 2px solid gray;\n  background-color: white;\n"]))),Bn=l.a.div(bn||(bn=Object(s.a)(["\n  font-weight: 500;\n  margin-bottom: 10px;\n  background-color: #d8efff;\n  border-radius: 8px 8px 0 0;\n  border-bottom: 1px solid gray;\n  padding: 4px;\n  padding-left: 8px;\n"]))),Dn=l.a.div(fn||(fn=Object(s.a)(["\n  display: flex;\n  padding-left: 8px;\n  justify-content: space-between;\n  margin-bottom: 4px;\n"]))),Jn=l.a.span(jn||(jn=Object(s.a)(["\n  flex-basis: 70px;\n"]))),Wn=function(n){var e=n.minTemperature,t=n.maxTemperature,r=n.chanceOfPrecipitation,a=n.date,i=Ln()(a).format("LL");return Object(m.jsxs)(An,{children:[Object(m.jsx)(Bn,{children:i}),Object(m.jsxs)(Dn,{children:[Object(m.jsx)("span",{children:"Minimum temperature:"}),Object(m.jsxs)(Jn,{children:[e,"\u1d52C"]})]}),Object(m.jsxs)(Dn,{children:[Object(m.jsx)("span",{children:"Maximum temperature:"}),Object(m.jsxs)(Jn,{children:[t,"\u1d52C"]})]}),Object(m.jsxs)(Dn,{children:[Object(m.jsx)("span",{children:"% Precipitation:"}),Object(m.jsxs)(Jn,{children:[r,"%"]})]})]})},Hn=Object(W.b)("forecast/load",function(){var n=Object(q.a)(K.a.mark((function n(e){return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",X(e));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),{condition:function(n,e){var t=(0,e.getState)().forecast.innerState;if(("Loaded"===t.kind||"Loading"===t.kind)&&t.regionId===n)return!1}}),Kn=Object(W.c)({name:"forecast",initialState:{innerState:{kind:"Idle"}},reducers:{},extraReducers:function(n){n.addCase(Hn.pending,(function(n,e){var t=e.meta.arg;n.innerState={kind:"Loading",regionId:t}})).addCase(Hn.fulfilled,(function(n,e){var t=e.meta.arg;if(!("Idle"!==n.innerState.kind&&n.innerState.regionId!==t)){var r=e.payload.map((function(n){return{minTemperature:Number(n.tMin),maxTemperature:Number(n.tMax),chanceOfPrecipitation:Number(n.precipitaProb),date:new Date(n.forecastDate).toISOString()}}));n.innerState={kind:"Loaded",forecasts:r,regionId:t}}})).addCase(Hn.rejected,(function(n,e){var t=e.meta.arg;"Idle"!==n.innerState.kind&&n.innerState.regionId!==t||(n.innerState={kind:"Failed",error:e.error.message||"",regionId:t})}))}}),qn=function(n){var e=n.forecast.innerState;return"Loaded"===e.kind?e.forecasts:[]},Gn=function(n){return"Loading"===n.forecast.innerState.kind},Qn=function(n){return"Failed"===n.forecast.innerState.kind},Un=Kn.reducer;var Vn,Xn,Yn,Zn,$n,_n=Object(l.a)(L)(Fn||(Fn=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  min-width: 400px;\n"]))),ne=l.a.div(Rn||(Rn=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n"]))),ee=Object(l.a)(P)(Mn||(Mn=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"]))),te=Object(l.a)(C)(Nn||(Nn=Object(s.a)(["\n  min-width: 150px;\n  margin-top: 16px;\n"]))),re=l.a.h2(zn||(zn=Object(s.a)(["\n  margin-top: 0;\n  font-size: 20px;\n  color: #0a1937;\n"]))),ae=l.a.div(Pn||(Pn=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n\n  & > * {\n    margin-top: 8px;\n    margin-bottom: 8px;\n  }\n"]))),ie=l.a.h3(Tn||(Tn=Object(s.a)(["\n  margin-top: 0;\n  font-size: 16px;\n  color: #0a1937;\n"]))),ce=function(n){var e=n.region,t=D(),r=J(qn),i=J(Gn),c=J(Qn);Object(a.useEffect)((function(){e&&t(Hn(e.id))}),[e,t]);var o=void 0!==e,d=o&&!i&&!c,s=e?"".concat(e.name," (").concat(e.areaId,")"):"",l="".concat(i).concat(d).concat(c).concat(null===e||void 0===e?void 0:e.id);return Object(m.jsxs)(_n,{children:[Object(m.jsx)(re,{children:"Forecast"}),o&&Object(m.jsxs)(ie,{children:["Region: ",s]}),Object(m.jsx)(ee,{state:l,children:Object(m.jsxs)(m.Fragment,{children:[i&&Object(m.jsx)(ne,{children:Object(m.jsx)(A,{})}),d&&Object(m.jsx)(ae,{children:r.map((function(n,e){return Object(m.jsx)(Wn,Object(Sn.a)({},n),e)}))}),c&&Object(m.jsxs)(ne,{children:["There was a problem",Object(m.jsx)(te,{onClick:function(){return e&&t(Hn(e.id))},children:"Retry"})]})]})})]})};var oe=l.a.div(Vn||(Vn=Object(s.a)(["\n  height: calc(100vh - 16px);\n  display: grid;\n  background-color: #ecedf4;\n  grid-template-columns: auto minmax(0, 9fr);\n  grid-template-rows: 3rem minmax(0, 1fr);\n  grid-template-areas:\n    'header header'\n    'sidebar main';\n\n  padding-bottom: 16px;\n  gap: 16px;\n"]))),de=l.a.header(Xn||(Xn=Object(s.a)(["\n  grid-area: header;\n  background-color: #ffffff;\n  height: (3rem - 16px);\n  padding: 8px;\n  box-shadow: 0 2px 8px -2px gray;\n  display: flex;\n  align-items: center;\n"]))),se=l.a.h1(Yn||(Yn=Object(s.a)(["\n  font-weight: 400;\n  font-size: 32px;\n  color: #0a1937;\n  margin: 0;\n"]))),le=l.a.div(Zn||(Zn=Object(s.a)(["\n  grid-area: main;\n  margin-right: 16px;\n  display: flex;\n"]))),ue=l.a.div($n||($n=Object(s.a)(["\n  grid-area: sidebar;\n  margin-left: 16px;\n  display: flex;\n"]))),pe=function(n){var e=n.children,t=n.sideMenu;return Object(m.jsxs)(oe,{children:[Object(m.jsx)(de,{children:Object(m.jsx)(se,{children:"Weather Forecast"})}),Object(m.jsx)(ue,{children:t}),Object(m.jsx)(le,{children:e})]})};var be=function(){var n=Object(a.useState)(void 0),e=Object(d.a)(n,2),t=e[0],r=e[1];return Object(m.jsx)(pe,{sideMenu:Object(m.jsx)(kn,{onRegionSelect:r}),children:Object(m.jsx)(ce,{region:t})})},fe=Object(W.a)({reducer:{region:un,forecast:Un}});o.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(B.a,{store:fe,children:Object(m.jsx)(be,{})})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.51671f39.chunk.js.map